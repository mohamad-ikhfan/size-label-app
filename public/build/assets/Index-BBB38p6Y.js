import{r as h,j as e,Y as k,y as b}from"./app-HWkxxKU5.js";import{M as D}from"./Modal-BYB44Cga.js";import{F as S,a as v,P as C}from"./Pagination-zVFsw3Z9.js";import{P as M}from"./PrimaryButton-Bjy3hJVY.js";import{S as _}from"./SelectInput-BHi968BA.js";import{T as r}from"./TableHeading-C3e8glMq.js";import{A as F}from"./AuthenticatedLayout-Cyblz5e0.js";import E from"./Create-oh4ZA0Z4.js";import I from"./Edit-C6gYC7qH.js";import R from"./Delete-BCJ0Oiu0.js";import{S as A}from"./SecondaryButton-CIvzJTjd.js";import B from"./Export-jMgdaW93.js";import"./transition-CMtolyNB.js";import"./ApplicationLogo-BM1mhOMZ.js";import"./index-CENE42Aw.js";import"./InputError-BTgG0eOk.js";import"./InputLabel-ZRf2dIRD.js";import"./TextInput-BfYGk2LL.js";function ee({auth:x,destroyRibbons:d,queryParams:s=null,filters:m}){s=s||{};const j=(t,c)=>{c?s[t]=c:delete s[t],b.get(route("destroy-ribbon.index"),s)},o=t=>{t===s.sort_field?s.sort_direction==="asc"?s.sort_direction="desc":s.sort_direction="asc":(s.sort_field=t,s.sort_direction="asc"),b.get(route("destroy-ribbon.index"),s)},g=t=>new Intl.NumberFormat("en-IN").format(t),[y,l]=h.useState(!1),[a,i]=h.useState(""),[f,p]=h.useState({}),N=()=>{l(!0),i("create")},u=()=>{l(!0),i("export")},n=()=>{l(!1),i(""),p({})};return e.jsxs(F,{user:x.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Destroy ribbons"}),children:[e.jsx(k,{title:"Destroy Ribbons"}),e.jsxs("div",{className:"pb-12 pt-6",children:[e.jsxs("div",{className:"max-w-full mx-auto sm:px-4 lg:px-6",children:[e.jsxs("div",{className:"mb-6 flex justify-end gap-4",children:[e.jsx(A,{type:"button",onClick:u,children:"Export Destroy Ribbon"}),e.jsx(M,{type:"button",onClick:N,children:"New Destroy Ribbon"})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"w-full p-6 overflow-auto",children:[e.jsxs("table",{className:"w-full text-left text-gray-500 dark:text-gray-400",children:[e.jsxs("thead",{className:"text-gray-700 bg-gray-50 dark:bg-slate-700 dark:text-gray-400 border-b-2 border-gray-500 uppercase",children:[e.jsxs("tr",{className:"text-nowrap",children:[e.jsx(r,{sortable:!1,children:"#"}),e.jsx(r,{name:"destroyed_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:o,children:"destroyed at"}),e.jsx(r,{name:"destroyed_by",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:o,children:"destroyed by"}),e.jsx(r,{name:"qty",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:o,children:"qty"}),e.jsx(r,{name:"created_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:o,children:"created at"}),e.jsx(r,{name:"updated_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:o,children:"updated at"}),e.jsx(r,{sortable:!1,children:"actions"})]}),d.data.length>0&&e.jsxs("tr",{className:"text-nowrap",children:[e.jsx("th",{className:"px-3 pb-2"}),e.jsx("th",{className:"px-3 pb-2",children:e.jsxs(_,{className:"w-full",defaultValue:s.destroyed_at,onChange:t=>j("destroyed_at",t.target.value),children:[e.jsx("option",{value:"",children:"show all"}),Object.entries(m.destroyed_at).map(t=>e.jsx("option",{value:t[0],children:t[1]},t[0]))]})}),e.jsx("th",{className:"px-3 pb-2",children:e.jsxs(_,{className:"w-full",defaultValue:s.destroyed_by,onChange:t=>j("destroyed_by",t.target.value),children:[e.jsx("option",{value:"",children:"show all"}),Object.entries(m.destroyed_by).map(t=>e.jsx("option",{value:t[0],children:t[1]},t[0]))]})}),e.jsx("th",{className:"px-3 pb-2",colSpan:4})]})]}),e.jsx("tbody",{children:d.data.length>0?d.data.map((t,c)=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("td",{className:"px-3 py-2",children:++c}),e.jsx("td",{className:"px-3 py-2",children:t.destroyed_date}),e.jsx("td",{className:"px-3 py-2",children:t.destroyed_by_name}),e.jsx("td",{className:"px-3 py-2",children:g(t.qty)}),e.jsx("td",{className:"px-3 py-2",children:t.created_at}),e.jsx("td",{className:"px-3 py-2",children:t.updated_at}),e.jsx("td",{children:x.user.id===t.destroyed_by&&e.jsxs("div",{className:"px-3 py-2 flex gap-1.5",children:[e.jsx(S,{className:"w-5 text-yellow-500 cursor-pointer",title:"edit",onClick:w=>{p(t),l(!0),i("edit")}}),e.jsx(v,{className:"w-5 text-red-500 cursor-pointer",title:"delete",onClick:w=>{p(t),l(!0),i("delete")}})]})})]},t.id)):e.jsx("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:e.jsx("td",{colSpan:7,className:"text-center px-3 py-2",children:"No data found."})})})]}),d.data.length>0&&e.jsx(C,{links:d.meta.links})]})})]}),e.jsxs(D,{show:y,maxWidth:a==="delete"?"sm":"xl",children:[a==="create"&&e.jsx(E,{userId:x.user.id,closeModal:n}),a==="edit"&&e.jsx(I,{destroyRibbon:f,closeModal:n}),a==="delete"&&e.jsx(R,{destroyRibbon:f,closeModal:n}),a==="export"&&e.jsx(B,{closeModal:n})]})]})]})}export{ee as default};
