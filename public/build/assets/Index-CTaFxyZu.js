import{r as m,j as e,Y as y,y as N}from"./app-Co-jrZwb.js";import{M as v}from"./Modal-aAHhmzYu.js";import{F as C,a as T,P as S}from"./Pagination-CpBRyYMd.js";import{P as M}from"./PrimaryButton-6vJSF3v2.js";import{T as l}from"./TableHeading-9DPXKIG6.js";import{A as F}from"./AuthenticatedLayout-D06fxdvl.js";import I from"./Create-wZmG3367.js";import O from"./Edit-DAcrNkJl.js";import V from"./Delete-DFGt4ong.js";import{S as p}from"./SelectInput-CYAZBLAn.js";import"./transition-B4N2ruDV.js";import"./ApplicationLogo-CAwBpD2n.js";import"./index-CX2DJngn.js";import"./InputError-CMvzJ-sj.js";import"./InputLabel-DliwoM6Y.js";import"./SecondaryButton-yFgP5oKn.js";import"./TextInput-qkPPC6Xe.js";function Z({auth:_,transactionMaterials:d,materials:f,queryParams:s=null,filters:a}){s=s||{};const o=(t,x)=>{x?s[t]=x:delete s[t],N.get(route("transaction-transactionMaterial.index"),s)},i=t=>{t===s.sort_field?s.sort_direction==="asc"?s.sort_direction="desc":s.sort_direction="asc":(s.sort_field=t,s.sort_direction="asc"),N.get(route("transaction-transactionMaterial.index"),s)},g=t=>new Intl.NumberFormat("en-IN").format(t),[w,r]=m.useState(!1),[c,n]=m.useState(""),[b,h]=m.useState({}),k=()=>{r(!0),n("create")},j=()=>{r(!1),n(""),h({})};return e.jsxs(F,{user:_.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Transaction Materials"}),children:[e.jsx(y,{title:"Materials"}),e.jsxs("div",{className:"pb-12 pt-6",children:[e.jsxs("div",{className:"max-w-full mx-auto sm:px-4 lg:px-6",children:[e.jsx("div",{className:"mb-6 flex justify-end",children:e.jsx(M,{type:"button",onClick:k,children:"New Transaction Material"})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"w-full p-6 overflow-auto",children:[e.jsxs("table",{className:"w-full text-left text-gray-500 dark:text-gray-400",children:[e.jsxs("thead",{className:"text-gray-700 bg-gray-50 dark:bg-slate-700 dark:text-gray-400 border-b-2 border-gray-500 uppercase",children:[e.jsxs("tr",{className:"text-nowrap",children:[e.jsx(l,{sortable:!1,children:"#"}),e.jsx(l,{name:"date",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"date"}),e.jsx(l,{name:"type",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"type"}),e.jsx(l,{name:"material_id",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"Material"}),e.jsx(l,{name:"qty",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"qty"}),e.jsx(l,{name:"first_stock_id",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"first stock"}),e.jsx(l,{name:"last_stock_id",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"last stock"}),e.jsx(l,{name:"transaction_by",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"Transaction by"}),e.jsx(l,{name:"created_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"created at"}),e.jsx(l,{name:"updated_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"updated at"}),e.jsx(l,{sortable:!1,children:"actions"})]}),d.data.length>0&&e.jsxs("tr",{className:"text-nowrap",children:[e.jsx("th",{className:"px-3 pb-2"}),e.jsx("th",{className:"px-3 pb-2",children:e.jsxs(p,{className:"w-full",defaultValue:s.date,onChange:t=>o("date",t.target.value),children:[e.jsx("option",{value:"",children:"show all"}),Object.entries(a.date).map(t=>e.jsx("option",{value:t[0],children:t[1]},t[0]))]})}),e.jsx("th",{className:"px-3 pb-2",children:e.jsxs(p,{className:"w-full",defaultValue:s.type,onChange:t=>o("type",t.target.value),children:[e.jsx("option",{value:"",children:"show all"}),Object.entries(a.type).map(t=>e.jsx("option",{value:t[0],children:t[1]},t[0]))]})}),e.jsx("th",{className:"px-3 pb-2",children:e.jsxs(p,{className:"w-full",defaultValue:s.material_id,onChange:t=>o("material_id",t.target.value),children:[e.jsx("option",{value:"",children:"show all"}),Object.entries(a.material_id).map(t=>e.jsx("option",{value:t[0],children:t[1]},t[0]))]})}),e.jsx("th",{className:"px-3 pb-2"}),e.jsx("th",{className:"px-3 pb-2"}),e.jsx("th",{className:"px-3 pb-2"}),e.jsx("th",{className:"px-3 pb-2",children:e.jsxs(p,{className:"w-full",defaultValue:s.transaction_by,onChange:t=>o("transaction_by",t.target.value),children:[e.jsx("option",{value:"",children:"show all"}),Object.entries(a.transaction_by).map(t=>e.jsx("option",{value:t[0],children:t[1]},t[0]))]})}),e.jsx("th",{className:"px-3 pb-2"}),e.jsx("th",{className:"px-3 pb-2"}),e.jsx("th",{className:"px-3 pb-2"})]})]}),e.jsx("tbody",{children:d.data.length>0?d.data.map((t,x)=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("td",{className:"px-3 py-2",children:++x}),e.jsx("td",{className:"px-3 py-2",children:t.date_format}),e.jsx("td",{className:"px-3 py-2",children:t.type}),e.jsx("td",{className:"px-3 py-2",children:t.material_name}),e.jsx("td",{className:"px-3 py-2",children:g(t.qty)}),e.jsx("td",{className:"px-3 py-2",children:t.first_stock_qty}),e.jsx("td",{className:"px-3 py-2",children:t.last_stock_qty}),e.jsx("td",{className:"px-3 py-2",children:t.transaction_by_name}),e.jsx("td",{className:"px-3 py-2",children:t.created_at}),e.jsx("td",{className:"px-3 py-2",children:t.updated_at}),e.jsx("td",{children:e.jsxs("div",{className:"px-3 py-2 flex gap-1.5",children:[e.jsx(C,{className:"w-5 text-yellow-500 cursor-pointer",title:"edit",onClick:u=>{h(t),r(!0),n("edit")}}),e.jsx(T,{className:"w-5 text-red-500 cursor-pointer",title:"delete",onClick:u=>{h(t),r(!0),n("delete")}})]})})]},t.id)):e.jsx("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:e.jsx("td",{colSpan:11,className:"text-center px-3 py-2",children:"No data found."})})})]}),d.data.length>0&&e.jsx(S,{links:d.meta.links})]})})]}),e.jsxs(v,{show:w,maxWidth:c==="delete"?"sm":"xl",children:[c==="create"&&e.jsx(I,{user:_.user,materials:f,closeModal:j}),c==="edit"&&e.jsx(O,{materials:f,transactionMaterial:b,closeModal:j}),c==="delete"&&e.jsx(V,{transactionMaterial:b,closeModal:j})]})]})]})}export{Z as default};
