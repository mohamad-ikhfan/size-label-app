import{r as m,j as t,Y as y,y as N}from"./app-DZ-gaT6x.js";import{M as v}from"./Modal-DoHAsNHm.js";import{F as C,a as T,P as S}from"./Pagination-D4d9eC46.js";import{P as M}from"./PrimaryButton-BpQ8qfkY.js";import{T as l}from"./TableHeading-abo2VOJg.js";import{A as F}from"./AuthenticatedLayout-BUEzRDlH.js";import I from"./Create-CebsyC1K.js";import O from"./Edit-CVkiPPwX.js";import V from"./Delete-BXu0S43v.js";import{S as p}from"./SelectInput-CXB972hp.js";import"./transition-DNduSSv7.js";import"./ApplicationLogo-DEeBkX12.js";import"./index-BlFDnZGx.js";import"./InputError-Bk9hHI97.js";import"./InputLabel-BCqzx3Zs.js";import"./SecondaryButton-CYrCM_Sf.js";import"./TextInput-DrPUnK-m.js";function Z({auth:_,transactionMaterials:d,materials:f,queryParams:s=null,filters:a}){s=s||{};const o=(e,x)=>{x?s[e]=x:delete s[e],N.get(route("transaction-transactionMaterial.index"),s)},i=e=>{e===s.sort_field?s.sort_direction==="asc"?s.sort_direction="desc":s.sort_direction="asc":(s.sort_field=e,s.sort_direction="asc"),N.get(route("transaction-transactionMaterial.index"),s)},g=e=>new Intl.NumberFormat("en-IN").format(e),[w,r]=m.useState(!1),[c,n]=m.useState(""),[b,h]=m.useState({}),k=()=>{r(!0),n("create")},j=()=>{r(!1),n(""),h({})};return t.jsxs(F,{user:_.user,header:t.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Transaction Materials"}),children:[t.jsx(y,{title:"Materials"}),t.jsxs("div",{className:"pb-12 pt-6",children:[t.jsxs("div",{className:"max-w-full mx-auto sm:px-4 lg:px-6",children:[t.jsx("div",{className:"mb-6 flex justify-end",children:t.jsx(M,{type:"button",onClick:k,children:"New Transaction Material"})}),t.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:t.jsxs("div",{className:"w-full p-6 overflow-auto",children:[t.jsxs("table",{className:"w-full text-left text-gray-500 dark:text-gray-400",children:[t.jsxs("thead",{className:"text-gray-700 bg-gray-50 dark:bg-slate-700 dark:text-gray-400 border-b-2 border-gray-500 uppercase",children:[t.jsxs("tr",{className:"text-nowrap",children:[t.jsx(l,{sortable:!1,children:"#"}),t.jsx(l,{name:"date",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"date"}),t.jsx(l,{name:"material_id",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"Material"}),t.jsx(l,{name:"type",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"type"}),t.jsx(l,{name:"qty",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"qty"}),t.jsx(l,{name:"first_stock_id",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"first stock"}),t.jsx(l,{name:"last_stock_id",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"last stock"}),t.jsx(l,{name:"transaction_by",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"Transaction by"}),t.jsx(l,{name:"created_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"created at"}),t.jsx(l,{name:"updated_at",sort_field:s.sort_field,sort_direction:s.sort_direction,sortChanged:i,children:"updated at"}),t.jsx(l,{sortable:!1,children:"actions"})]}),d.data.length>0&&t.jsxs("tr",{className:"text-nowrap",children:[t.jsx("th",{className:"px-3 pb-2"}),t.jsx("th",{className:"px-3 pb-2",children:t.jsxs(p,{className:"w-full",defaultValue:s.date,onChange:e=>o("date",e.target.value),children:[t.jsx("option",{value:"",children:"show all"}),Object.entries(a.date).map(e=>t.jsx("option",{value:e[0],children:e[1]},e[0]))]})}),t.jsx("th",{className:"px-3 pb-2",children:t.jsxs(p,{className:"w-full",defaultValue:s.material_id,onChange:e=>o("material_id",e.target.value),children:[t.jsx("option",{value:"",children:"show all"}),Object.entries(a.material_id).map(e=>t.jsx("option",{value:e[0],children:e[1]},e[0]))]})}),t.jsx("th",{className:"px-3 pb-2",children:t.jsxs(p,{className:"w-full",defaultValue:s.type,onChange:e=>o("type",e.target.value),children:[t.jsx("option",{value:"",children:"show all"}),Object.entries(a.type).map(e=>t.jsx("option",{value:e[0],children:e[1]},e[0]))]})}),t.jsx("th",{className:"px-3 pb-2"}),t.jsx("th",{className:"px-3 pb-2"}),t.jsx("th",{className:"px-3 pb-2"}),t.jsx("th",{className:"px-3 pb-2",children:t.jsxs(p,{className:"w-full",defaultValue:s.transaction_by,onChange:e=>o("transaction_by",e.target.value),children:[t.jsx("option",{value:"",children:"show all"}),Object.entries(a.transaction_by).map(e=>t.jsx("option",{value:e[0],children:e[1]},e[0]))]})}),t.jsx("th",{className:"px-3 pb-2"}),t.jsx("th",{className:"px-3 pb-2"}),t.jsx("th",{className:"px-3 pb-2"})]})]}),t.jsx("tbody",{children:d.data.length>0?d.data.map((e,x)=>t.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[t.jsx("td",{className:"px-3 py-2",children:++x}),t.jsx("td",{className:"px-3 py-2",children:e.date_format}),t.jsx("td",{className:"px-3 py-2",children:e.material_name}),t.jsx("td",{className:"px-3 py-2",children:e.type_text}),t.jsx("td",{className:"px-3 py-2",children:g(e.qty)}),t.jsx("td",{className:"px-3 py-2",children:e.first_stock_qty}),t.jsx("td",{className:"px-3 py-2",children:e.last_stock_qty}),t.jsx("td",{className:"px-3 py-2",children:e.transaction_by_name}),t.jsx("td",{className:"px-3 py-2",children:e.created_at}),t.jsx("td",{className:"px-3 py-2",children:e.updated_at}),t.jsx("td",{children:t.jsxs("div",{className:"px-3 py-2 flex gap-1.5",children:[t.jsx(C,{className:"w-5 text-yellow-500 cursor-pointer",title:"edit",onClick:u=>{h(e),r(!0),n("edit")}}),t.jsx(T,{className:"w-5 text-red-500 cursor-pointer",title:"delete",onClick:u=>{h(e),r(!0),n("delete")}})]})})]},e.id)):t.jsx("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:t.jsx("td",{colSpan:11,className:"text-center px-3 py-2",children:"No data found."})})})]}),d.data.length>0&&t.jsx(S,{links:d.meta.links})]})})]}),t.jsxs(v,{show:w,maxWidth:c==="delete"?"sm":"xl",children:[c==="create"&&t.jsx(I,{user:_.user,materials:f,closeModal:j}),c==="edit"&&t.jsx(O,{materials:f,transactionMaterial:b,closeModal:j}),c==="delete"&&t.jsx(V,{transactionMaterial:b,closeModal:j})]})]})]})}export{Z as default};
